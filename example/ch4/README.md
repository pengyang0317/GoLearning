### 6.什么是grpc和protobuf

- gRPC 是一个高性能、开源和通用的 RPC（Remote Procedure Call）框架，可以在任何环境下连接、通信和调用远程服务。gRPC 基于 Google 内部使用的 Protocol Buffers 序列化协议开发，使用 HTTP/2 作为传输协议，具有高效、低延迟和高并发等特性。

- Protocol Buffers（简称 Protobuf）是由 Google 开发的一种语言无关、平台无关、可扩展的序列化数据格式。它可以将结构化数据序列化为二进制数据，用于数据存储、通信协议等场景。Protobuf 支持多种编程语言，包括 C++、Java、Python、Ruby 等。与 XML 和 JSON 等其他数据格式相比，Protobuf 的编解码速度更快、数据体积更小、可读性更差。

- gRPC 使用 Protobuf 作为默认的消息序列化协议，可以将函数调用和消息作为 Protobuf 对象进行传输和处理。通过使用 Protobuf，gRPC 可以实现高效的数据压缩、易于扩展和版本化等特性，同时保证数据的可靠性和一致性。与传统的 RESTful API 相比，gRPC 可以提供更快的响应速度、更高的并发性和更好的可维护性。

- 总之，gRPC 和 Protobuf 是两个相互关联的开源技术，它们可以一起使用，来构建高效、可扩展和易于维护的分布式系统。

### 7.protobuf和json的直观对比

Protocol Buffers (protobuf) 和 JSON 都是用于数据序列化和反序列化的格式，但是它们有一些不同点：

数据大小和性能：protobuf 通常比 JSON 更小和更快，因为它使用二进制编码，而 JSON 使用文本编码。这意味着 protobuf 可以更快地传输数据，并且在处理大型数据集时可以节省大量空间。

数据结构：protobuf 允许您定义复杂的数据结构，并使用强类型的模式来定义数据的字段。与此相反，JSON 只是一种键值对的集合，它的结构较为简单。

可读性：JSON 对人类来说比 protobuf 更加直观易读，因为它使用文本格式，可以轻松地在浏览器或文本编辑器中查看。

兼容性：JSON 是一种通用格式，可以在多种编程语言中使用，包括 JavaScript、Python 和 Java 等。protobuf 可以用于 C++、Java、Python 等多种语言，但是需要在不同的语言之间进行转换和协商。

总的来说，如果您需要处理大量的结构化数据并需要更快的性能，则 protobuf 是更好的选择。如果您需要更简单、更易读的格式并需要更广泛的语言支持，则 JSON 是更好的选择。
![83f37572a89b002c78f45881abfc8641.png](evernotecid://2DF34E2B-D627-4C9D-B047-ED2B8738D0D2/appyinxiangcom/25024422/ENResource/p1630)

### 8.grpc流模式的定义

gRPC 是一种高性能、开源和通用的 RPC（远程过程调用）框架，支持多种编程语言。在 gRPC 中，流模式指的是一种可以实现双向数据流的通信方式，包括客户端流、服务器流和双向流。具体定义如下：

客户端流模式：客户端发送多个请求，服务器返回一个响应。在这种模式中，客户端通过流式传输多个数据，服务端接收到所有数据之后再返回一个响应。这种模式通常用于客户端向服务端发送数据，例如上传文件等。

服务器流模式：服务器发送多个响应，客户端返回一个请求。在这种模式中，服务端通过流式传输多个数据，客户端接收到数据后再返回一个请求。这种模式通常用于服务端向客户端推送数据，例如流媒体播放等。

双向流模式：客户端和服务器都可以发送多个请求和响应。在这种模式中，客户端和服务端都可以通过流式传输多个数据，相互之间交替发送请求和响应。这种模式通常用于需要实现双向通信的应用场景，例如聊天室等。

通过使用流模式，gRPC 可以实现高效的双向数据流通信，适用于各种分布式系统和微服务架构中的应用。
